# 集中文件分隔的元数据

> 原文:[https://www . javatpoint . com/talend-集中化-文件分隔-元数据](https://www.javatpoint.com/talend-centralizing-file-delimited-metadata)

在本节中，我们将学习如何在 Talend studio 中为数据集成平台集中**文件分隔元数据**。

在本章继续之前，我们将首先了解为什么我们将使用文件分隔。

可用于定义 **tFileInputDelimited、**T2【tFileOutputDelimited】组件的属性，以及从定界文件中读取和写入数据。

我们必须将他们的元数据集中在存储库中，并进行重用。

#### 注意:对于所有类型的文件连接，如“分隔、正则、XML、位置或 LDIF”，文件模式创建非常相似。

创建文件分隔的连接表单开始:

*   转到**存储库面板**，然后转到元数据。
*   之后，展开元数据，右键点击**文件定界**，选择**创建文件定界**选项，如下图所示:

**存储库→元数据→文件分隔**

![Centralizing File Delimited Metadata](../Images/4716d1639583b7fb2e50c041f4ebe050.png)

#### 注意:要在我们的工作中使用集中式文件分隔，请转到必要组件的基本设置视图，其属性类型设置为打开文件元数据设置窗口的内置选项。

将打开**新分隔文件**窗口，文件连接和模式定义分四步完成。

*   **定义常规属性**
*   **定义文件路径和格式**
*   **定义文件解析参数**
*   **检查和定制文件模式**

**步骤 1:定义常规属性**

在第一步中，我们将填写所有必要的详细信息，如**名称，**是必填字段，目的和描述字段也是。

我们还可以在**项目设置**对话框中管理存储库项目的**版本**和**状态**字段。

点击路径字段旁边的**选择**按钮，在文件分隔节点下选择一个文件夹来保存我们新创建的文件连接。

#### 注意:如果我们正在编辑一个现有的连接，我们不能选择一个文件夹，但是我们可以随时将它拖放到一个新的文件夹中。

填写完所有通用属性的详细信息后，点击**下一步**按钮。

![Centralizing File Delimited Metadata](../Images/efb8af48e31ff02617459759a58da398.png)

**第二步:定义文件路径和格式**

下一步，我们点击**浏览**按钮，从本地系统加载文件。

例如，我们将从系统中选择 **custmore.txt** 文件。

*   选择创建文件的格式。为此，我们从给定的下拉列表中选择**窗口**平台。
*   如果给定的下拉列表中没有合适的格式，请忽略它。
*   我们有**文件查看器**，它给出了加载文件的即时图片，正如我们在下面的截图中看到的:

![Centralizing File Delimited Metadata](../Images/b530d34d632b5c554a6ab656dcce0905.png)

*   点击**下一步**按钮继续。

**步骤 3:定义文件解析参数**

在这一步中，我们可以根据需要更改设置。

*   这里，我们在文件设置窗格中将头值设置为 1，将自定义 ANSI 字段更改为“ **|** ”。
*   并将**字段分隔符**设置为**自定义 ANSI** ，如下图所示:

![Centralizing File Delimited Metadata](../Images/f3178a5a998df7e3b3e6e89731abe262.png)

*   之后，点击**下一步**

在**文件设置区**我们可以设置**编码类型**、**字段**和**行分隔符**，如下图截图所示:

![Centralizing File Delimited Metadata](../Images/69c651f883ba6317917096bafd105e54.png)

*   根据我们的文件类型，我们可以选择 **CSV** 或**分隔**。
*   如果我们选择我们的文件类型为 **CSV** ，那么我们有一个选项来设置**转义字符**和**文本附件，**或者像这里我们选择**分隔的**，这两个选项都不可用。

在**行跳过**部分，我们可以指定给定的参数，如页眉和页脚。

*   如果特定文件具有页脚信息，则设置要忽略的页脚行数。
*   如果文件预览显示一条标题消息，则保留解析的标题，并设置跳过的标题编号。

![Centralizing File Delimited Metadata](../Images/9d193f2e6fa5a041411c069520956f05.png)

我们可以选择“限制”复选框，也可以在“行数限制”部分指定所需的行数，如上面的截图所示:

要查看新的设置影响，请查看**文件查看**面板，并选中**将处理行设置为列名**框，将第一个解析的行转换为模式列的标签。

另外，请注意要跳过的标题**行数**增加了 1。

![Centralizing File Delimited Metadata](../Images/da40dd8eb7073c0414ca4ac816bb465d.png)

要在查看器上查看效果和结果视图，点击**刷新预览**按钮。

之后，点击**下一步**按钮。

**步骤 4:检查和定制文件模式**

在最后一步中，我们将检查并定制文件模式。

*   要自定义文件模式，请检查我们在**类型**列中的数据类型是否正确。
*   在模式部分的**描述中，我们可以像在实际文件中提到的那样更改列名。**
*   **猜测**按钮用于在分隔文件模式发生变化时再次生成模式，并确保如果我们自定义模式，猜测功能将无法保留这些变化。
*   点击**完成**按钮，如下图所示:

![Centralizing File Delimited Metadata](../Images/97da81268509cc027a53c0d8df500707.png)

在 Talend 工作室中查看新创建的元数据。

*   转到**存储库**面板，然后转到**元数据**。
*   之后，展开**文件分隔的**节点，我们可以在下面的截图中注意到:

**存储库→元数据→文件分隔→客户 _ 元数据**

![Centralizing File Delimited Metadata](../Images/bd849b4b70a8583ed0ed673a13f596bf.png)

要将元数据作为新组件或现有组件重用，只需将文件连接或模式从存储库的元数据节点拖放到设计工作区窗口。

要修改现有的文件连接:

*   转到**存储库的** **元数据节点**。
*   之后，展开**文件定界、**，右键点击**客户 _ 元数据**模式，选择**编辑文件定界**，如下图截图所示:

![Centralizing File Delimited Metadata](../Images/8fc7b694d9c396ab668365881cabf386.png)

要向现有文件连接添加新模式，请执行以下操作:

*   转到**存储库面板**，右键点击**文件定界的**。
*   从**元数据**的弹出菜单中选择**检索模式**，如下图所示:

![Centralizing File Delimited Metadata](../Images/7e68755b4d5b36678a92af17957746f4.png)

* * *