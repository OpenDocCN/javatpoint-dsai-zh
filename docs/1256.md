# 熊猫数据框架. join()

> 原文：<https://www.javatpoint.com/pandas-dataframe-join>

当我们想要连接我们的数据帧时，我们可以通过垂直或并排堆叠它们来相互添加它们。组合这些数据框的另一种方法是在每个数据集中使用包含公共值的列。使用公共字段组合数据帧的方法称为“**连接**”。我们用来组合数据框的方法是**连接()**方法。包含公共值的列称为“**连接键”**。

当一个数据框是包含添加到另一个数据框中的附加数据的查找表时，join()方法通常很有用。这是一种方便的方法，可以将两个不同索引的数据帧的列组合成一个数据帧。

## 识别连接键

为了确定合适的连接键，首先，我们必须定义在数据帧之间共享的必需字段。这两个数据框都由具有相同名称并且包含相同数据的列组成。

## 内部连接

内部连接可以定义为最常用的连接。基本上，它的主要任务是基于一个连接键组合两个数据帧，并返回一个新的数据帧。返回的数据框仅由原始数据框中具有匹配值的选定行组成。

## 左连接

如果我们想在不丢失任何数据的情况下向数据框中添加一些信息，我们可以简单地通过称为“**左外连接**或“**左连接**的不同类型的连接来实现。

像内部联接一样，左联接也使用联接键来组合两个数据框，但与内部联接不同，它返回左数据框中的所有行，甚至是那些联接键不包括右数据框中的值的行。

## 语法:

```

DataFrame.join(other, on=None, how='left', lsuffix='', rsuffix='', sort=False)

```

## 参数:

**其他:**指数据帧或系列。

在这种情况下，索引应该类似于其中一列。如果我们传递一个 Series，必须设置命名属性，以便在结果连接的数据帧中将其用作列名。

**on:** 是一个可选参数，指的是**数组样的**或**字符串**值。

它引用调用者中要加入索引的列或索引级别名称。否则，它将按索引连接索引。如果存在多个值，则其他**数据帧必须具有多索引。这就像一个 Excel VLOOKUP 操作，如果一个数组还没有包含在调用的 DataFrame 中，就可以将它作为联接键传递。**

 ****how:** 是指‘左’、‘右’、‘外’、‘内’值，主要作用于如何处理两个对象的操作。**怎么**的默认值是**左。**

*   **左:**如果指定了 on 参数，则使用调用帧的索引或列。
*   **右:**使用另一个指标。
*   **outer:** 如果参数 on 指定了其他的索引，则用来组成调用帧的索引或列的并集，也可以按字典顺序排序。
*   **内部:**如果上的参数**被指定为其他索引，则用于形成调用帧的索引或列的交集。因此，由于这一点，它保留了调用对象的顺序。**

**lsuffix:** 是指默认值为“”的字符串对象。它使用左框架重叠列中的后缀。

**rsuffix:** 指字符串值，默认值为' '。它使用右框架重叠列中的后缀。

**排序:**它由一个布尔值组成，该值按照连接键对结果数据帧进行字典式排序。如果我们传递 False 值，那么连接键的顺序主要取决于连接类型，即**如何**。

**示例:**以下示例显示了 **join()** 功能的工作情况。

```

import pandas as pd
info = pd.DataFrame({'key': ['K0', 'K1', 'K2', 'K3', 'K4', 'K5'],
'A': ['A0', 'A1', 'A2', 'A3', 'A4', 'A5']})
x = pd.DataFrame({'key': ['K0', 'K1', 'K2'],
'B': ['B0', 'B1', 'B2']})
info.join(x, lsuffix='_caller', rsuffix='_x') 
info.set_index('key').join(x.set_index('key'))
info.join(x.set_index('key'), on='key')

```

**输出:**

```
    key  A   B
0   K0   A0  B0
1   K1   A1  B1
2   K2   A2  B2
3   K3   A3  NaN
4   K4   A4  NaN
5   K5   A5  NaN

```

**示例 2:** 以下示例连接了两个多索引:

```

import pandas as pd
leftindex = pd.MultiIndex.from_product([list('xyz'), list('pq'), [1, 2]],
                                      names=['xyz', 'pq', 'num'])
left = pd.DataFrame({'value': range(12)}, index=leftindex)
left

```

**输出:**

```
			value
xyz	pq	num	
x	p	1	0
2	1
q	1	2
2	3
y	p	1	4
2	5
q	1	6
2	7
z	p	1	8
2	9
q	1	10
2	11

```

* * ***