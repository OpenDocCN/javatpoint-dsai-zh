# 儒瓦内变换

> 原文:[https://www.javatpoint.com/joiner-transformation](https://www.javatpoint.com/joiner-transformation)

Joiner 转换是一个活跃且连接的转换。它提供了在 Informatica 中创建连接的选项。通过使用 joiner 转换，所创建的连接类似于数据库中的连接。

joiner 转换用于连接两个异构源。joiner 转换基于匹配两个源之间的一对或多对列的条件来连接源。

两个输入管道包括一个主管道和一个细节管道。我们需要将 joiner 转换的输出与另一个源连接起来，以连接两个以上的源。为了在映射中加入 n 个源，我们需要 n-1 个 joiner 变换。

在 joiner 转换中，我们有两个用于连接的源，例如:

*   主源
*   详细信息来源

在 joiner 转换的属性中，我们可以选择哪个数据源可以是 Master 源，哪个数据源可以是 detail 源。

在执行过程中，主源被缓存到内存中用于连接。因此需要选择记录数较少的源作为主源。

### 配置 Joiner 转换

在 Informatica 中，我们配置 joiner 转换的以下属性，例如:

*   **区分大小写的字符串比较:**当我们对字符串列执行联接时，集成服务使用这个选项。默认情况下，会选中区分大小写的字符串比较选项。
*   **缓存目录:**用于缓存主行或明细行的目录。默认目录路径是$PMCacheDir。我们也可以覆盖这个值。
*   **连接类型:**执行为主外部连接、详细外部连接、正常连接或完全外部连接的连接类型。
*   **跟踪级别:**用于跟踪会话日志文件中的跟踪级别。
*   **Joiner 数据缓存大小:**它告诉数据缓存的大小。自动是数据缓存大小的默认值。
*   **Joiner 索引缓存大小:**它告诉索引缓存的大小。自动是索引缓存大小的默认值。
*   **排序输入:**当输入数据按排序顺序排列时，使用该选项。它提供了更好的性能。
*   **主排序顺序:**给出主源数据的排序顺序。如果主源数据按升序排序，那么我们选择升序。如果我们选择升序，我们必须启用排序输入选项。自动是该选项的默认值。
*   **转换范围:**我们可以选择转换范围为“全部输入”或“行”。

### 联接的类型

在 Informatica 中，可以使用 joiner 转换创建以下连接，例如:

1.  **主外部联接**
    在主外部联接中，来自 Detail 源的所有记录都由联接返回，并且只返回来自主源的匹配行。
2.  **细节外连接**
    在细节外连接中，从细节源只返回匹配的行，从主源返回所有的行。
3.  **完全外部连接。**
    在完全外连接中，来自两个来源的所有记录都被返回。主外部联接和详细外部联接相当于 SQL 中的左外部联接。
4.  **正常连接**
    在正常连接中，只有匹配的行从两个源返回。

### 例子

在以下示例中，我们将在以下步骤中使用 joiner 转换来连接 emp 和 dept 表:

**步骤 1** :使用下面的脚本在数据库中创建新的目标表 EMP_DEPTNAME，并在 Informatica targets 中导入该表。

**第二步**:新建一个映射，导入我们上一步创建的源表“EMP”和“DEPT”以及目标表。

**第三步**:从转换菜单中选择创建选项，

1.  选择 joiner 转换
2.  输入转换名称“jnr_emp_dept”
3.  选择创建选项

**第 4 步**:将所有列从两个源限定符拖放到 joiner 转换中。

**第五步**:双击 joiner 变换，然后在编辑变换窗口中:

1.  选择条件选项卡。
2.  单击添加新条件图标。
3.  在主列和明细列列表中选择 deptno。

**第六步**:然后，在同一个窗口:

1.  选择属性选项卡。
2.  选择普通连接作为连接类型。
3.  点击确定按钮。

为了优化性能，我们将主源分配给记录较少的源表管道。要执行此任务:

**第 7 步**:双击 joiner 变换打开编辑属性窗口，然后

1.  选择端口选项卡。
2.  选择要成为主控形状的特定来源的任何列。
3.  点击确定按钮。

**第 8 步**:将 joiner 转换的相关列链接到目标表。

现在保存映射，并在为其创建会话和工作流后执行它。连接将使用 Informatica joiner 创建，相关的详细信息将从两个表中获取。

### 分类输入

当主源和详细源都在连接条件中指定的端口上进行排序时，请使用 joiner 属性选项卡中的排序输入选项。

我们可以通过使用排序的输入选项来提高性能，因为集成服务通过最小化磁盘 IOs 的数量来执行连接。当我们处理大型数据集时，它提供了出色的性能。

以下是配置排序输入选项的一些步骤，例如:

*   使用源限定符转换或排序器转换对主源和详细源进行排序。
*   以升序或降序对用于连接条件的端口上的源进行排序。
*   在连接器转换属性选项卡中指定排序输入选项。

### 阻塞变换

连接转换被称为阻塞转换。集成服务根据 joiner 转换是否配置为排序输入来阻塞和取消阻塞源数据。

### 未排序的 Joiner 转换

在未排序的 joiner 转换的情况下，集成服务首先读取所有的主行，然后再读取细节行。

集成服务在缓存所有主行的同时阻塞了细节源。一旦它读取了所有的主行，它就解除了细节源的阻塞，并理解了细节行。

### 有序 Joiner 变换

在排序的 joiner 转换的情况下，阻塞逻辑可能是可能的，也可能是不可能的。集成服务使用阻塞逻辑，如果它可以这样做而不阻塞目标加载顺序组中的所有源的话。否则，它不使用阻塞逻辑。

### 如何提高 Joiner 转换性能？

以下是提高 joiner 转换性能的一些要点，例如:

*   如果可能，在数据库中执行联接。在数据库中执行联接比在会话中执行联接更快。
*   我们可以通过配置 joiner 转换属性选项卡中的排序输入选项来提高会话性能。
*   将行数较少且重复键较少的源指定为主源，将另一个源指定为详细源。

### 儒瓦内变换的局限性

以下是 joiner 转换的限制，例如:

*   当输入管道包含更新策略转换时，我们不能使用 joiner 转换。
*   我们不能将序列生成器转换直接连接到 joiner 转换。

* * *