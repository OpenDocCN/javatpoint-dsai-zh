# Python 中的 numpy.diff()

> 哎哎哎:# t0]https://www . javatppoint . com/num py-diff

**Python** 的 numpy 模块提供了一个名为 **numpy.diff** 的函数，用于计算沿给定轴的第 n 个<sup>离散差。如果**‘x’**是输入数组，那么第一个差值由 out[i]=x[i+1]-a[i]给出。我们可以通过递归使用 diff 来计算更高的差值。Python 的 numpy 模块提供了一个名为 numpy.diff 的函数，用于计算沿给定轴的第 n 个离散差。如果“x”是输入数组，那么第一个差值由 out[i]=x[i+1]-a[i]给出。我们可以递归使用 **diff** 来计算更高的差值。</sup>

### 句法

```

numpy.diff(a, n=1, axis=-1, prepend=<no value>, append=<no value>)

```

### 因素

**x:数组 _like**

这个参数定义了源数组，它的元素是我们要计算的元素。

**n: int(可选)**

此参数定义了值被求差的次数。如果为 0，则源数组按原样返回。

**追加，前置:array_like(可选)**

此参数定义了一个数组，该数组定义了在计算差值之前要沿着轴追加或添加到**‘x’**的值。

### 返回:

该函数返回一个包含第 n 个差异的数组，这些差异具有与**‘x’，**相同的形状，并且尺寸小于 **n** 。**‘x’**的任意两个元素之间的差异类型就是输出的类型。

### 例 1:

```

import numpy as np
arr = np.array([0, 1, 2], dtype=np.uint8)
arr
b=np.diff(arr)
b
arr[2,...] - arr[1,...] - arr[0,...]

```

**输出:**

```
array([0, 1, 2], dtype=uint8)
array([1, 1], dtype=uint8)
1

```

**在上面的代码中**

*   我们导入了别名为 np 的 numpy。
*   我们使用 **np.array()** 函数创建了一个数组**“arr”**，其数据类型为**“uint 8”**。
*   我们已经声明了变量**‘b’**，并分配了 **np.diff()** 函数的返回值。
*   我们已经在函数中传递了数组**‘arr’**。
*   最后，我们尝试打印**‘b’**的值以及元素之间的差异。

在输出中，它显示了元素的离散差异。

### 例 2:

```

import numpy as np
x = np.array([11, 21, 41, 71, 1, 12, 33, 2])
y = np.diff(x)
x
y

```

**输出:**

```
array([11, 21, 41, 71,  1, 12, 33,  2])
array([ 10,  20,  30, -70,  11,  21, -31])

```

### 例 3:

```

import numpy as np
x = np.array([[11, 21, 41], [71, 1, 12], [33, 2, 13]])
y = np.diff(x, axis=0)
y
z = np.diff(x, axis=1)
z

```

**输出:**

```
array([[ 60, -20, -29],
       	[-38,   1,   1]])
array([[ 10,  20],
       	[-70,  11],
       	[-31,  11]])

```

### 例 4:

```

import numpy as np
x = np.arange('1997-10-01', '1997-12-16', dtype=np.datetime64)
y = np.diff(x)
y

```

**输出:**

```
array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       	1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       	1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       	1, 1, 1, 1, 1, 1, 1, 1, 1], dtype='timedelta64[D]')

```

**在上面的代码中**

*   我们导入了别名为 np 的 numpy。
*   我们使用带有数据类型**“日期时间 64”**的 **np.arange()** 函数创建了日期数组**“x”**。
*   我们已经声明了变量**‘y’**，并分配了 **np.diff()** 函数的返回值。
*   我们已经通过了函数中的数组**‘x’**。
*   最后，我们尝试打印**‘y’**的值。

在输出中，它显示了日期之间的离散差异。

* * *